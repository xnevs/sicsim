tdout	START	0
	LDA	NUMBER
	JSUB	echonum
HALT	J	HALT
	

echoch	WD	ENA
	RSUB

echonl	STA	TMPA
	LDA	#10
	WD	ENA
	LDA	TMPA
	RSUB

echostr	STA	TMPA
SLOOP	STA	ADDR
	LDA	#0
	LDCH	@ADDR
	COMP	#0
	JEQ	KONEC
	WD	ENA
	LDA	ADDR
	ADD	#1
	J	SLOOP
KONEC	LDA	TMPA
	RSUB

echonum	STA	TMPA
	STX	TMPX
	STS	TMPS
	STL	TMPL
	LDX	#0
	LDS	#1

.preverimo ce je < 0 in izpisemo -
	COMP	#0
	JGT	NLOOP1
	JEQ	NLOOP1
	LDA	#45
	WD	ENA
	LDA	TMPA

.znake stevk nalozimo na sklad
NLOOP1	STA	CNUM
	JSUB	MOD
	ADD	#48
	STCH	NUMSTR,X
	ADDR	S,X
	LDA	CNUM
	DIV	#10
	COMP	#0
	JEQ	NLOOP2
	J	NLOOP1

.stevke izpisemo iz sklada
NLOOP2	SUBR	S,X
	LDCH	NUMSTR,X
	WD	ENA
	CLEAR	A
	ADDR	X,A
	COMP	#0
	JGT	NLOOP2

	LDA	TMPA
	LDX	TMPX
	LDS	TMPS
	LDL	TMPL
	RSUB
	
MOD	STS	TMPS1
	CLEAR	S
	ADDR	A,S
	DIV	#10
	MUL	#10
	SUBR	A,S
	CLEAR	A
	ADDR	S,A
	COMP	#0
	JGT	VECJI
	MUL	#-1
VECJI	LDS	TMPS1
	RSUB
	

TMPA	RESW	1
TMPS	RESW	1
TMPS1	RESW	1
TMPX	RESW	1
TMPL	RESW	1

ADDR	RESW	1
BESEDA	BYTE	C'sven'	
	BYTE	10
	BYTE	0

NUMBER	WORD	12345

CNUM	RESW	1
NUMSTR	RESB	7
ENA	BYTE	1
